(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(2996)}])},2996:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return E},getCurrentUser:function(){return _}});var r=e(4051),i=e.n(r),u=e(5893),c=e(6682),o=e(9828);var s=function(n){var t=n.src;return(0,u.jsx)("iframe",{id:"player",width:"853",height:"500",src:t,allowFullScreen:!0,allow:"autoplay"})},a=e(7814),l=e(1436),f=e(7294),d=e(245);function h(n,t,e,r,i,u,c){try{var o=n[u](c),s=o.value}catch(a){return void e(a)}o.done?t(s):Promise.resolve(s).then(r,i)}function p(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var u=n.apply(t,e);function c(n){h(u,r,i,c,o,"next",n)}function o(n){h(u,r,i,c,o,"throw",n)}c(void 0)}))}}function v(){return(v=p(i().mark((function n(){var t;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,d.WY)({url:"/playlists/random",method:"GET"});case 2:return t=n.sent,console.log(t),n.abrupt("return",t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var m=function(){return v.apply(this,arguments)};function x(n,t,e,r,i,u,c){try{var o=n[u](c),s=o.value}catch(a){return void e(a)}o.done?t(s):Promise.resolve(s).then(r,i)}function j(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var u=n.apply(t,e);function c(n){x(u,r,i,c,o,"next",n)}function o(n){x(u,r,i,c,o,"throw",n)}c(void 0)}))}}var w=function(){var n=(0,f.useState)(null),t=n[0],e=n[1],r=(0,f.useState)(0),c=r[0],o=r[1],h="https://www.youtube.com/embed/{id}",p=(0,f.useState)(""),v=p[0],x=p[1];function w(n){return y.apply(this,arguments)}function y(){return(y=j(i().mark((function n(r){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,(0,d._T)(t.id);case 4:m().then((function(n){return e(n)}));case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,f.useEffect)((function(){if(t||m().then((function(n){return e(n)})),t){if(t.items.length<=0)return;x(h.replace("{id}",t.items[c].resourceId))}}),[t,c]),console.log("PLAYLIST"+JSON.stringify(t,null,1)),(0,u.jsxs)("div",{className:"container-fluid",children:[(0,u.jsxs)("div",{className:"d-flex justify-content-around align-items-center",children:[(0,u.jsx)("button",{id:"back",onClick:function(){null!=t&&(o((c+t.items.length-1)%t.items.length),x(h.replace("{id}",t.items[c].resourceId)))},children:(0,u.jsx)(a.G,{className:"icon",icon:l.uYr})}),(0,u.jsx)(s,{src:v}),(0,u.jsx)("button",{id:"forward",onClick:function(){null!=t&&(o((c+t.items.length+1)%t.items.length),x(h.replace("{id}",t.items[c].resourceId)))},children:(0,u.jsx)(a.G,{className:"icon",icon:l.Ybx})})]}),(0,u.jsx)("div",{children:(null===t||void 0===t?void 0:t.isLiked)?(0,u.jsx)("button",{className:"btn btn-primary",onClick:function(){return w(null===t||void 0===t?void 0:t.id)},children:(0,u.jsx)(a.G,{icon:"fa-solid fa-heart"})}):(0,u.jsx)("button",{className:"btn btn-primary",onClick:function(){return w(t.id)},children:(0,u.jsx)(a.G,{icon:"fa-regular fa-heart"})})}),(0,u.jsx)("div",{children:null===t||void 0===t?void 0:t.items.map((function(n,t){return t===c?(0,u.jsx)("strong",{children:(0,u.jsxs)("pre",{children:[" ",n.title]})}):(0,u.jsx)("div",{children:n.title})}))})]})},y=e(6120),b=e(6474);function g(n,t,e,r,i,u,c){try{var o=n[u](c),s=o.value}catch(a){return void e(a)}o.done?t(s):Promise.resolve(s).then(r,i)}function k(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var u=n.apply(t,e);function c(n){g(u,r,i,c,o,"next",n)}function o(n){g(u,r,i,c,o,"throw",n)}c(void 0)}))}}function _(n){return N.apply(this,arguments)}function N(){return(N=k(i().mark((function n(t){var e,r,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new Headers({Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}),n.next=3,fetch("".concat("https://lissn.site","/api/members/me"),{method:"GET",headers:e});case 3:return r=n.sent,n.next=6,r.json();case 6:return u=n.sent,n.abrupt("return",u.data);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var E=function(){var n=(0,f.useState)(null),t=n[0],e=n[1];return(0,f.useEffect)((function(){var n=localStorage.getItem(b.LA);n&&_(n).then((function(n){e(n)}))}),[]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.Z,{}),(0,u.jsx)(y.Z,{currentUser:t}),(0,u.jsx)("main",{children:(0,u.jsx)(w,{})}),(0,u.jsx)(o.Z,{})]})}}},function(n){n.O(0,[104,89,774,888,179],(function(){return t=5301,n(n.s=t);var t}));var t=n.O();_N_E=t}]);